<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pendaftaran Topik TA - Daftar TA Online</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-green-50">

    <header class="bg-green-600 text-white p-4">
        <h1 class="text-xl">SIMTASI - Pendaftaran Topik TA</h1>
    </header>

    <div class="flex p-8">
        <!-- Sidebar -->
        <div class="w-1/4 bg-white shadow-lg p-4">
            <h2 class="text-lg font-bold">Home</h2>
            <ul class="mt-4">
                <li><a href="#">Manajemen Topik Tugas Akhir</a></li>
                <li><a href="#">Daftar Topik TA yang Tersedia</a></li>
                <li><a href="#">Pendaftaran Topik TA</a></li>
                <li><a href="#">Riwayat Pendaftaran Topik TA</a></li>
                <li><a href="#">Pengelolaan Proyek Tugas Akhir</a></li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="w-3/4 ml-8 bg-white shadow-lg p-6 rounded-lg">
            <h2 class="text-2xl font-semibold mb-4">Pendaftaran Topik TA</h2>
            
            <!-- Registration Form -->
            <form action="/daftartaonline/submit" method="POST">
    <div class="mb-4">
        <label for="topikId" class="block text-sm font-medium text-gray-700">Pilih Topik</label>
        <select name="topikId" id="topikId" class="mt-2 block w-full border border-gray-300 rounded-lg p-2">
            <option value="">--Pilih Topik--</option>
            <% topics.forEach(function(topic) { %>
                <option value="<%= topic.id_topikta %>"><%= topic.topik %></option>
            <% }); %>
        </select>
    </div>

    <div class="mb-4">
        <label for="judul" class="block text-sm font-medium text-gray-700">Judul</label>
        <input type="text" name="judul" id="judul" class="mt-2 block w-full border border-gray-300 rounded-lg p-2" required />
    </div>

    <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded-lg">Submit</button>
</form>

            <hr class="my-6">

            <!-- List of Registered Students -->
            <h3 class="text-lg font-medium mb-2">Mahasiswa yang telah mendaftar</h3>
            <table class="w-full table-auto border-collapse">
                <thead>
                    <tr>
                        <th class="px-4 py-2 text-left">No</th>
                        <th class="px-4 py-2 text-left">Nama Mahasiswa</th>
                        <th class="px-4 py-2 text-left">Topik TA</th>
                        <th class="px-4 py-2 text-left">Judul</th>
                    </tr>
                </thead>
                <tbody>
                    <% users.forEach(function(user, index) { %>
                        <tr>
                            <td class="px-4 py-2"><%= index + 1 %></td>
                            <td class="px-4 py-2"><%= user.nama %></td>
                            <td class="px-4 py-2"><%= user.topikta.topik %></td>
                            <td class="px-4 py-2"><%= user.judul_ta %></td>
                        </tr>
                    <% }); %>
                </tbody>
            </table>
        </div>
    </div>

    <footer class="bg-green-600 text-white p-4 text-center">
        <p>Â© 2025 Sistem Informasi - Fakultas Teknologi Informasi</p>
    </footer>

</body>
</html>
