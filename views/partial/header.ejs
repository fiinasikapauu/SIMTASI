<style>
    /* Additional styles for modal */
    .modal-overlay {
      backdrop-filter: blur(4px);
    }
    
    .modal-content {
      max-height: 90vh;
      overflow-y: auto;
    }
    
    .file-link:hover {
      color: #059669 !important;
      text-decoration: underline;
    }
    
    /* Loading spinner */
    .loading-spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #059669;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>

<header class="bg-green-600 text-white p-4">
    <div class="container mx-auto flex justify-between items-center">
      <div>
        <h1 class="text-3xl font-bold">SIMTASI</h1>
      </div>
      <div>
        <div class="relative">
          <button id="profileDropdownBtn" type="button" class="text-white bg-green-700 px-4 py-2 rounded-full hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-400">
            <span
              style="background-image: url('../images/user_icon.png'); background-size: cover; background-position: center; width: 24px; height: 24px; display: inline-block;"></span>
          </button>
          <div id="profileDropdown" class="hidden absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg z-50 border border-gray-200">
            <div class="px-4 py-3 border-b border-gray-100">
              <p class="text-gray-800 font-semibold text-base mb-1"><%= user && user.nama ? user.nama : '-' %></p>
              <p class="text-gray-500 text-sm">NIM: <%= user && user.nomorInduk ? user.nomorInduk : '-' %></p>
            </div>
            <div class="py-2">
              <a href="/logout" class="block px-4 py-2 text-red-600 hover:bg-gray-100 rounded transition">Logout</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

<script>
  // Dropdown profile logic
      const profileBtn = document.getElementById('profileDropdownBtn');
      const dropdown = document.getElementById('profileDropdown');
      document.addEventListener('click', function(e) {
        if (profileBtn.contains(e.target)) {
          dropdown.classList.toggle('hidden');
        } else if (!dropdown.contains(e.target)) {
          dropdown.classList.add('hidden');
        }
      });
</script>